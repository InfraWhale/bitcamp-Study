<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>변수활용</title>
</head>
<body>

<h1>배열 다루기 </h1>

<button type="button" id="x-btn" >배열 가져오기</button>
<ul id = "x-namelist">
</ul>

<script>
var xNamelist = document.querySelector("#x-namelist");
var xBtn = document.querySelector("#x-btn");

xBtn.addEventListener("click", function() {
	
	var result = fetch("/lang/variable/exam4/test3");
	var result2 = result.then(function(response){ 
		// fetch로 가져오고 "그런다음에" 다음 함수 수행
		
	//	console.log(argument); 
	// 받은 결과는 변수명을 따로 지정해주지 않으면 argument라는 변수에 저장됨.
	
		return response.json(); 
	});
	result2.then(function(jsonData) {
		console.log(jsonData)
		//서버가 보낸 데이터에 대해 json 처리가 끝난 후 호출됨
	})
	
	/*
 var xhr = new XMLHttpRequest();
 xhr.onload = function() {
	 // 서버에서 받은 JSON 형식의 배열을 자바스크립트 배열로 변환한다.
	 var names = JSON.parse(xhr.responseText);
	 
	 // 배열에 내장된 (built-in) forEach() 사용하기
	 names.forEach(function(name){
		 var li = document. createElement("li");
		 li.innerHTML = name;
		 xNamelist.appendChild(li)
		});

 };
	 xhr.open("GET","/lang/variable/exam4/test3", true);
	xhr.send();
	 */
});

</script>

</body>
</html>
